<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Metrics - Glean SDKs - Cross-platform Telemetry Libraries</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../../shared/glean.css">
        <link rel="stylesheet" href="../../../shared/mermaid.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../../index.html">Glean</a></li><li class="chapter-item affix "><li class="part-title">User Guides</li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/index.html"><strong aria-hidden="true">1.</strong> Adding Glean to your project</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/kotlin.html"><strong aria-hidden="true">1.1.</strong> Kotlin</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/swift.html"><strong aria-hidden="true">1.2.</strong> Swift</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/python.html"><strong aria-hidden="true">1.3.</strong> Python</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/rust.html"><strong aria-hidden="true">1.4.</strong> Rust</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/javascript.html"><strong aria-hidden="true">1.5.</strong> JavaScript</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/qt.html"><strong aria-hidden="true">1.6.</strong> Qt/QML</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/server.html"><strong aria-hidden="true">1.7.</strong> Server</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/enable-data-ingestion.html"><strong aria-hidden="true">1.8.</strong> Enable data ingestion</a></li></ol></li><li class="chapter-item "><a href="../../user/integrating-glean-for-product-managers.html"><strong aria-hidden="true">2.</strong> Integrating Glean for project managers</a></li><li class="chapter-item "><a href="../../user/metrics/adding-new-metrics.html"><strong aria-hidden="true">3.</strong> Metrics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/metrics/adding-new-metrics.html"><strong aria-hidden="true">3.1.</strong> Adding new metrics</a></li><li class="chapter-item "><a href="../../user/metrics/testing-metrics.html"><strong aria-hidden="true">3.2.</strong> Testing metrics</a></li><li class="chapter-item "><a href="../../user/metrics/validation-checklist.html"><strong aria-hidden="true">3.3.</strong> Validating metrics</a></li><li class="chapter-item "><a href="../../user/metrics/error-reporting.html"><strong aria-hidden="true">3.4.</strong> Error reporting</a></li><li class="chapter-item "><a href="../../user/collected-metrics/metrics.html"><strong aria-hidden="true">3.5.</strong> Metrics collected by the Glean SDKs</a></li></ol></li><li class="chapter-item "><a href="../../user/pings/index.html"><strong aria-hidden="true">4.</strong> Pings</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/pings/custom.html"><strong aria-hidden="true">4.1.</strong> Adding new custom pings</a></li><li class="chapter-item "><a href="../../user/pings/testing-custom-pings.html"><strong aria-hidden="true">4.2.</strong> Testing custom pings</a></li><li class="chapter-item "><a href="../../user/pings/sent-by-glean.html"><strong aria-hidden="true">4.3.</strong> Pings sent by Glean</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/pings/baseline.html"><strong aria-hidden="true">4.3.1.</strong> Baseline Ping</a></li><li class="chapter-item "><a href="../../user/pings/deletion-request.html"><strong aria-hidden="true">4.3.2.</strong> Deletion Request Ping</a></li><li class="chapter-item "><a href="../../user/pings/events.html"><strong aria-hidden="true">4.3.3.</strong> Events Ping</a></li><li class="chapter-item "><a href="../../user/pings/metrics.html"><strong aria-hidden="true">4.3.4.</strong> Metrics Ping</a></li><li class="chapter-item "><a href="../../user/pings/ping-schedules-and-timings.html"><strong aria-hidden="true">4.3.5.</strong> Schedules and timings overview</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../user/server-knobs/index.html"><strong aria-hidden="true">5.</strong> Server Knobs: Glean Data Control Plane</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/server-knobs/metrics/index.html"><strong aria-hidden="true">5.1.</strong> Controlling Metrics with Server Knobs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/server-knobs/metrics/example-scenarios.html"><strong aria-hidden="true">5.1.1.</strong> Example Scenarios</a></li><li class="chapter-item "><a href="../../user/server-knobs/metrics/product-integration.html"><strong aria-hidden="true">5.1.2.</strong> Product Integration</a></li><li class="chapter-item "><a href="../../user/server-knobs/metrics/experimenter-configuration.html"><strong aria-hidden="true">5.1.3.</strong> Experimenter Configuration</a></li><li class="chapter-item "><a href="../../user/server-knobs/metrics/advanced-topics.html"><strong aria-hidden="true">5.1.4.</strong> Advanced Topics</a></li><li class="chapter-item "><a href="../../user/server-knobs/metrics/faq.html"><strong aria-hidden="true">5.1.5.</strong> Frequently Asked Questions</a></li></ol></li><li class="chapter-item "><a href="../../user/server-knobs/pings/index.html"><strong aria-hidden="true">5.2.</strong> Controlling Pings with Server Knobs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/server-knobs/pings/product-integration.html"><strong aria-hidden="true">5.2.1.</strong> Product Integration</a></li><li class="chapter-item "><a href="../../user/server-knobs/pings/experimenter-configuration.html"><strong aria-hidden="true">5.2.2.</strong> Experimenter Configuration</a></li></ol></li><li class="chapter-item "><a href="../../user/server-knobs/other/index.html"><strong aria-hidden="true">5.3.</strong> Other Server Knobs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/server-knobs/other/max-events.html"><strong aria-hidden="true">5.3.1.</strong> Max Events per Ping</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../user/debugging/index.html"><strong aria-hidden="true">6.</strong> Debugging products using Glean</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/debugging/android.html"><strong aria-hidden="true">6.1.</strong> Android</a></li><li class="chapter-item "><a href="../../user/debugging/ios.html"><strong aria-hidden="true">6.2.</strong> iOS</a></li><li class="chapter-item "><a href="../../user/debugging/python.html"><strong aria-hidden="true">6.3.</strong> Python</a></li><li class="chapter-item "><a href="../../user/debugging/javascript.html"><strong aria-hidden="true">6.4.</strong> JavaScript</a></li></ol></li><li class="chapter-item "><a href="../../user/howto/index.html"><strong aria-hidden="true">7.</strong> Walkthroughs and How-tos</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/howto/server-knobs-walkthrough/server-knobs-walkthrough.html"><strong aria-hidden="true">7.1.</strong> Server Knobs Walkthrough</a></li><li class="chapter-item "><a href="../../user/howto/real-time-events/real-time-events.html"><strong aria-hidden="true">7.2.</strong> "Real-Time" Events</a></li><li class="chapter-item "><a href="../../user/howto/investigating-data-issues/investigating-data-issues.html"><strong aria-hidden="true">7.3.</strong> Telemetry/Data Bug Investigation Recommendations</a></li></ol></li><li class="chapter-item "><li class="part-title">API Reference</li><li class="chapter-item expanded "><a href="../../reference/yaml/index.html"><strong aria-hidden="true">8.</strong> YAML Registry Format</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../reference/yaml/metrics.html" class="active"><strong aria-hidden="true">8.1.</strong> Metrics</a></li><li class="chapter-item "><a href="../../reference/yaml/pings.html"><strong aria-hidden="true">8.2.</strong> Pings</a></li><li class="chapter-item "><a href="../../reference/yaml/tags.html"><strong aria-hidden="true">8.3.</strong> Tags</a></li></ol></li><li class="chapter-item "><a href="../../reference/general/index.html"><strong aria-hidden="true">9.</strong> General API</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../reference/general/initializing.html"><strong aria-hidden="true">9.1.</strong> Initializing</a></li><li class="chapter-item "><a href="../../reference/general/toggling-collection-status.html"><strong aria-hidden="true">9.2.</strong> Toggling collection status</a></li><li class="chapter-item "><a href="../../reference/general/experiments-api.html"><strong aria-hidden="true">9.3.</strong> Annotating experiments</a></li><li class="chapter-item "><a href="../../reference/general/register-custom-pings.html"><strong aria-hidden="true">9.4.</strong> Registering custom pings</a></li><li class="chapter-item "><a href="../../reference/general/shutdown.html"><strong aria-hidden="true">9.5.</strong> Shut down</a></li><li class="chapter-item "><a href="../../reference/general/glean-event-listener.html"><strong aria-hidden="true">9.6.</strong> EXPERIMENTAL: Glean Event Listener</a></li><li class="chapter-item "><a href="../../reference/general/attribution-api.html"><strong aria-hidden="true">9.7.</strong> Reporting Product Attribution and Distribution</a></li></ol></li><li class="chapter-item "><a href="../../reference/debug/index.html"><strong aria-hidden="true">10.</strong> Debugging</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../reference/debug/logPings.html"><strong aria-hidden="true">10.1.</strong> Log pings</a></li><li class="chapter-item "><a href="../../reference/debug/debugViewTag.html"><strong aria-hidden="true">10.2.</strong> Debug View Tag</a></li><li class="chapter-item "><a href="../../reference/debug/sourceTags.html"><strong aria-hidden="true">10.3.</strong> Source Tags</a></li></ol></li><li class="chapter-item "><a href="../../reference/metrics/index.html"><strong aria-hidden="true">11.</strong> Metric types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../reference/metrics/boolean.html"><strong aria-hidden="true">11.1.</strong> Boolean</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_booleans.html"><strong aria-hidden="true">11.2.</strong> Labeled Booleans</a></li><li class="chapter-item "><a href="../../reference/metrics/counter.html"><strong aria-hidden="true">11.3.</strong> Counter</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_counters.html"><strong aria-hidden="true">11.4.</strong> Labeled Counters</a></li><li class="chapter-item "><a href="../../reference/metrics/string.html"><strong aria-hidden="true">11.5.</strong> String</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_strings.html"><strong aria-hidden="true">11.6.</strong> Labeled Strings</a></li><li class="chapter-item "><a href="../../reference/metrics/string_list.html"><strong aria-hidden="true">11.7.</strong> String List</a></li><li class="chapter-item "><a href="../../reference/metrics/timespan.html"><strong aria-hidden="true">11.8.</strong> Timespan</a></li><li class="chapter-item "><a href="../../reference/metrics/timing_distribution.html"><strong aria-hidden="true">11.9.</strong> Timing Distribution</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_timing_distributions.html"><strong aria-hidden="true">11.10.</strong> Labeled Timing Distributions</a></li><li class="chapter-item "><a href="../../reference/metrics/memory_distribution.html"><strong aria-hidden="true">11.11.</strong> Memory Distribution</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_memory_distributions.html"><strong aria-hidden="true">11.12.</strong> Labeled Memory Distributions</a></li><li class="chapter-item "><a href="../../reference/metrics/uuid.html"><strong aria-hidden="true">11.13.</strong> UUID</a></li><li class="chapter-item "><a href="../../reference/metrics/url.html"><strong aria-hidden="true">11.14.</strong> URL</a></li><li class="chapter-item "><a href="../../reference/metrics/datetime.html"><strong aria-hidden="true">11.15.</strong> Datetime</a></li><li class="chapter-item "><a href="../../reference/metrics/event.html"><strong aria-hidden="true">11.16.</strong> Event</a></li><li class="chapter-item "><a href="../../reference/metrics/custom_distribution.html"><strong aria-hidden="true">11.17.</strong> Custom Distribution</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_custom_distributions.html"><strong aria-hidden="true">11.18.</strong> Labeled Custom Distributions</a></li><li class="chapter-item "><a href="../../reference/metrics/quantity.html"><strong aria-hidden="true">11.19.</strong> Quantity</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_quantity.html"><strong aria-hidden="true">11.20.</strong> Labeled Quantities</a></li><li class="chapter-item "><a href="../../reference/metrics/rate.html"><strong aria-hidden="true">11.21.</strong> Rate</a></li><li class="chapter-item "><a href="../../reference/metrics/text.html"><strong aria-hidden="true">11.22.</strong> Text</a></li><li class="chapter-item "><a href="../../reference/metrics/object.html"><strong aria-hidden="true">11.23.</strong> Object</a></li></ol></li><li class="chapter-item "><a href="../../reference/pings/index.html"><strong aria-hidden="true">12.</strong> Pings</a></li><li class="chapter-item affix "><li class="part-title">SDK Specific Information</li><li class="chapter-item "><a href="../../language-bindings/index.html"><strong aria-hidden="true">13.</strong> Overview</a></li><li class="chapter-item "><a href="../../language-bindings/android/index.html"><strong aria-hidden="true">14.</strong> Android</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/android/android-build-configuration-options.html"><strong aria-hidden="true">14.1.</strong> Android build configuration options</a></li><li class="chapter-item "><a href="../../language-bindings/android/android-offline-builds.html"><strong aria-hidden="true">14.2.</strong> Android offline builds</a></li><li class="chapter-item "><a href="../../language-bindings/android/instrument-android-crashes-example.html"><strong aria-hidden="true">14.3.</strong> Instrumenting Android crashes with Glean</a></li><li class="chapter-item "><a href="../../language-bindings/android/gecko-content-processes-and-glean.html"><strong aria-hidden="true">14.4.</strong> GeckoView Content Processes and Glean</a></li></ol></li><li class="chapter-item "><a href="../../language-bindings/ios/index.html"><strong aria-hidden="true">15.</strong> iOS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/ios/ios-build-configuration-options.html"><strong aria-hidden="true">15.1.</strong> iOS build configuration options</a></li></ol></li><li class="chapter-item "><a href="../../language-bindings/javascript/index.html"><strong aria-hidden="true">16.</strong> JavaScript</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/javascript/cli.html"><strong aria-hidden="true">16.1.</strong> Command Line Interface</a></li><li class="chapter-item "><a href="../../language-bindings/javascript/plugins/index.html"><strong aria-hidden="true">16.2.</strong> Plugins</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/javascript/plugins/encryption.html"><strong aria-hidden="true">16.2.1.</strong> Ping Encryption Plugin</a></li></ol></li></ol></li><li class="chapter-item "><li class="part-title">Appendix</li><li class="chapter-item "><a href="../../appendix/glossary.html"><strong aria-hidden="true">17.</strong> Glossary</a></li><li class="chapter-item "><a href="../../appendix/changelog/index.html"><strong aria-hidden="true">18.</strong> Changelog</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../appendix/changelog/sdk.html"><strong aria-hidden="true">18.1.</strong> mozilla/glean</a></li><li class="chapter-item "><a href="../../appendix/changelog/js.html"><strong aria-hidden="true">18.2.</strong> mozilla/glean.js</a></li></ol></li><li class="chapter-item "><a href="../../appendix/twig.html"><strong aria-hidden="true">19.</strong> This Week in Glean</a></li><li class="chapter-item "><a href="../../appendix/contribution-guidelines.html"><strong aria-hidden="true">20.</strong> Contribution Guidelines</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Glean SDKs - Cross-platform Telemetry Libraries</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/mozilla/glean" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/mozilla/glean/edit/main/docs/user/./reference/yaml/metrics.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="metrics-yaml-registry-format"><a class="header" href="#metrics-yaml-registry-format">Metrics YAML Registry Format</a></h1>
<p>Metrics sent by an application or library are defined in YAML files which follow
the <a href="https://mozilla.github.io/glean_parser/metrics-yaml.html"><code>metrics.yaml</code> JSON schema</a>.</p>
<p>This files must be parsed by <a href="https://pypi.org/project/glean-parser/"><code>glean_parser</code></a> at build time
in order to generate code in the target language (e.g. Kotlin, Swift, ...). The generated code is
what becomes the public API to access the project's metrics.</p>
<p>For more information on how to introduce the <code>glean_parser</code> build step for a specific language /
environment, refer to the <a href="../../user/adding-glean-to-your-project/index.html">&quot;Adding Glean to your project&quot;</a>
section of this book.</p>
<div class="special-quote special-quote-info fa fa-info-circle"></div>
<h2 id="note-on-the-naming-of-these-files"><a class="header" href="#note-on-the-naming-of-these-files">Note on the naming of these files</a></h2>
<blockquote>
<p>Although we refer to metrics definitions YAML files as <code>metrics.yaml</code> throughout Glean documentation
this files may be named whatever makes the most sense for each project and may even be broken down
into multiple files, if necessary.</p>
</blockquote>
<h2 id="file-structure"><a class="header" href="#file-structure">File structure</a></h2>
<pre><code class="language-yaml">---
# Schema
$schema: moz://mozilla.org/schemas/glean/metrics/2-0-0

$tags:
  - frontend

# Category
toolbar:
  # Name
  click:
    # Metric Parameters
    type: event
    description: |
      Event to record toolbar clicks.
    metadata:
      tags:
        - Interaction
    notification_emails:
      - CHANGE-ME@example.com
    bugs:
      - https://bugzilla.mozilla.org/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: 2019-06-01

  double_click:
    ...
</code></pre>
<h2 id="schema"><a class="header" href="#schema">Schema</a></h2>
<p>Declaring the schema at the top of a metrics definitions file is required,
as it is what indicates that the current file is a metrics definitions file.</p>
<h1 id="tags"><a class="header" href="#tags"><code>$tags</code></a></h1>
<p>You may optionally declare <a href="tags.html">tags</a> at the file level that apply to all metrics in that file.</p>
<h2 id="category"><a class="header" href="#category">Category</a></h2>
<p>Categories are the top-level keys on metrics definition files. One single definition file
may contain multiple categories grouping multiple metrics. They serve the purpose of grouping related
metrics in a project.</p>
<p>Categories can contain alphanumeric lower case characters as well as the <code>.</code> and <code>_</code> characters
which can be used to provide extra structure, for example <code>category.subcategory</code> is a valid category.
Category lengths may not exceed 40 characters.</p>
<p>Categories may not start with the string <code>glean</code>. That prefix is reserved for Glean internal metrics.</p>
<p>See the <a href="../../user/metrics/adding-new-metrics.html#capitalization">&quot;Capitalization&quot;</a>
note to understand how the category is formatted in generated code.</p>
<h2 id="name"><a class="header" href="#name">Name</a></h2>
<p>Metric names are the second-level keys on metrics definition files.</p>
<p>Names may contain alphanumeric lower case characters as well as the <code>_</code> character. Metric name
lengths may not exceed 30 characters.</p>
<p><a href="../../user/metrics/adding-new-metrics.html#capitalization">&quot;Capitalization&quot;</a> rules also apply to
metric names on generated code.</p>
<h2 id="metric-parameters"><a class="header" href="#metric-parameters">Metric parameters</a></h2>
<p>Specific metric types may have special required parameters in their definition,
these parameters are documented in each <a href="../metrics/index.html">&quot;Metric Type&quot;</a> reference page.</p>
<p>Following are the parameters common to all metric types.</p>
<h3 id="required-parameters"><a class="header" href="#required-parameters">Required parameters</a></h3>
<h4 id="type"><a class="header" href="#type"><code>type</code></a></h4>
<p>Specifies the type of a metric, like &quot;counter&quot; or &quot;event&quot;.
This defines which operations are valid for the metric,
how it is stored and how data analysis tooling displays it.
See the list of <a href="../metrics/index.html">supported metric types</a>.</p>
<div class="special-quote special-quote-warning fa fa-exclamation-triangle"></div>
<h5 id="types-should-not-be-changed-after-release"><a class="header" href="#types-should-not-be-changed-after-release">Types should not be changed after release</a></h5>
<blockquote>
<p>Once a metric is defined in a product, its <code>type</code> should only be changed in rare circumstances.
It's better to rename the metric with the new type instead.
The ingestion pipeline will create a new column for a metric with a changed type.
Any new analysis will need to use the new column going forward.
The old column will still be populated with data from old clients.</p>
</blockquote>
<h4 id="description"><a class="header" href="#description"><code>description</code></a></h4>
<p>A textual description of the metric for humans.
It should describe what the metric does, what it means for analysts,
and its edge cases or any other helpful information.</p>
<p>The description field may contain <a href="https://www.markdownguide.org/basic-syntax/">markdown syntax</a>.</p>
<div class="special-quote special-quote-info fa fa-info-circle"></div>
<h5 id="imposed-limits-on-line-length"><a class="header" href="#imposed-limits-on-line-length">Imposed limits on line length</a></h5>
<blockquote>
<p>The Glean linter uses a line length limit of 80 characters.
If your description is longer, e.g. because it includes longer links,
you can disable <code>yamllint</code> using the following annotations
(and make sure to enable <code>yamllint</code> again as well):</p>
<pre><code class="language-yaml"># yamllint disable
description: |
  Your extra long description, that's longer than 80 characters by far.
# yamllint enable
</code></pre>
</blockquote>
<h4 id="notification_emails"><a class="header" href="#notification_emails"><code>notification_emails</code></a></h4>
<p>A list of email addresses to notify for important events with the metric
or when people with context or ownership for the metric need to be contacted.</p>
<p>For example when a metric's expiration is within in 14 days, emails will be sent
from <code>telemetry-alerts@mozilla.com</code> to the <code>notification_emails</code> addresses associated with the metric.</p>
<p>Consider adding both a group email address and an individual who is responsible for this metric.</p>
<h4 id="bugs"><a class="header" href="#bugs"><code>bugs</code></a></h4>
<p>A list of bugs (e.g. Bugzilla or GitHub) that are relevant to this metric.
For example, bugs that track its original implementation or later changes to it.</p>
<p>Each entry should be the full URL to the bug in an issue tracker.
The use of numbers alone is deprecated and will be an error in the future.</p>
<h4 id="data_reviews"><a class="header" href="#data_reviews"><code>data_reviews</code></a></h4>
<p>A list of URIs to any data collection review <em>responses</em> relevant to the metric.</p>
<h4 id="expires"><a class="header" href="#expires"><code>expires</code></a></h4>
<p>When the metric is set to expire.</p>
<p>After a metric expires, an application will no longer collect or send data related to it.
May be one of the following values:</p>
<ul>
<li><code>&lt;build date&gt;</code>: An ISO date <code>yyyy-mm-dd</code> in UTC on which the metric expires.
For example, <code>2019-03-13</code>. This date is checked at build time. Except in special cases,
this form should be used so that the metric automatically &quot;sunsets&quot; after a period of time.
Emails will be sent to the <code>notification_emails</code> addresses when the metric is about to expire.
Generally, when a metric is no longer needed, it should simply be removed.
This does not affect the availability of data already collected by the pipeline.</li>
<li><code>&lt;major version&gt;</code>: An integer greater than 0 representing the major version the metric expires in,
For example, <code>11</code>.
The version is checked at build time against the major provided to the glean_parser
(see e.g.
<a href="../../language-bindings/android/android-build-configuration-options.html#gleanexpirebyversion">Build configuration for Android</a>,
<a href="../../language-bindings/ios/ios-build-configuration-options.html#--expire-by-version-integer">Build configuration for iOS</a>)
and is only valid if a major version is provided at built time.
If no major version is provided at build time
and expiration by major version is used for a metric, an error is raised.
Note that mixing expiration by date and version is not allowed within a product.</li>
<li><code>never</code>: This metric never expires.</li>
<li><code>expired</code>: This metric is manually expired.</li>
</ul>
<h3 id="optional-parameters"><a class="header" href="#optional-parameters">Optional parameters</a></h3>
<h4 id="tags-1"><a class="header" href="#tags-1"><code>tags</code></a></h4>
<p><em>default: <code>[]</code></em></p>
<p>A list of tag names associated with this metric.
Must correspond to an entry specified in a <a href="./tags.html">tags file</a>.</p>
<h4 id="lifetime"><a class="header" href="#lifetime"><code>lifetime</code></a></h4>
<p><em>default: <code>ping</code></em></p>
<p>Defines the lifetime of the metric. Different lifetimes affect when the metrics value is reset.</p>
<h5 id="ping-default"><a class="header" href="#ping-default"><code>ping</code> <em>(default)</em></a></h5>
<p>The metric is cleared each time it is submitted in the ping. This is the most common case,
and should be used for metrics that are highly dynamic, such as things computed
in response to the user's interaction with the application.</p>
<h5 id="application"><a class="header" href="#application"><code>application</code></a></h5>
<p>The metric is related to an application run, and is cleared after the application restarts
and any Glean-owned ping, due at startup, is submitted. This should be used for things
that are constant during the run of an application, such as the operating system version.
In practice, these metrics are generally set during application startup.  A common mistake---
using the ping lifetime for these type of metrics---means that they will only be included
in the first ping sent during a particular run of the application.</p>
<h5 id="user"><a class="header" href="#user"><code>user</code></a></h5>
<p><strong>NOTE: Reach out to the Glean team before using this.</strong></p>
<p>The metric is part of the user's profile and will live as long as the profile lives.
This is often not the best choice unless the metric records a value that <em>really</em> needs
to be persisted for the full lifetime of the user profile, e.g. an identifier like the <code>client_id</code>,
the day the product was first executed. It is rare to use this lifetime outside of some metrics
that are built in to the Glean SDK.</p>
<h4 id="send_in_pings"><a class="header" href="#send_in_pings"><code>send_in_pings</code></a></h4>
<p><em>default: <code>events</code>|<code>metrics</code></em></p>
<p>Defines which pings the metric should be sent on.
If not specified, the metric is sent on the default ping,
which is the <code>events</code> ping for events and the <code>metrics</code> ping for everything else.</p>
<p>Most metrics don't need to specify this unless they are sent on <a href="../../user/pings/custom.html">custom pings</a>.</p>
<p>The special value <code>default</code> may be used, in case it's required for a metric to be sent
on the default ping as well as in a custom ping.</p>
<div class="special-quote special-quote-info fa fa-info-circle"></div>
<h5 id="adding-metrics-to-every-ping"><a class="header" href="#adding-metrics-to-every-ping">Adding metrics to every ping</a></h5>
<blockquote>
<p>For the small number of metrics that should be in every ping the Glean SDKs will eventually provide a solution.
See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1695236">bug 1695236</a> for details.</p>
</blockquote>
<pre><code class="language-yaml">send_in_pings:
  - my-custom-ping
  - default
</code></pre>
<h4 id="disabled"><a class="header" href="#disabled"><code>disabled</code></a></h4>
<p><em>default: <code>false</code></em></p>
<p>Data collection for this metric is disabled.</p>
<p>This is useful when you want to temporarily disable the collection for a specific metric
without removing references to it in your source code.</p>
<p>Generally, when a metric is no longer needed, it should simply be removed.
This does not affect the availability of data already collected by the pipeline.</p>
<h4 id="version"><a class="header" href="#version"><code>version</code></a></h4>
<p><em>default: <code>0</code></em></p>
<p>The version of the metric. A monotonically increasing integer value.
This should be bumped if the metric changes in a backward-incompatible way.</p>
<h4 id="data_sensitivity"><a class="header" href="#data_sensitivity"><code>data_sensitivity</code></a></h4>
<p><em>default: <code>[]</code></em></p>
<p>A list of data sensitivity categories that the metric falls under.
There are four data collection categories related to data sensitivity
<a href="https://wiki.mozilla.org/Firefox/Data_Collection">defined in Mozilla's data collection review process</a>:</p>
<h5 id="category-1-technical-data-technical"><a class="header" href="#category-1-technical-data-technical">Category 1: Technical Data (<code>technical</code>)</a></h5>
<p>Information about the machine or Firefox itself. Examples include OS, available memory,
crashes and errors, outcome of automated processes like updates, safe browsing, activation,
versions, and build id. This also includes compatibility information about features and APIs
used by websites, add-ons, and other 3rd-party software that interact with Firefox during usage.</p>
<h5 id="category-2-interaction-data-interaction"><a class="header" href="#category-2-interaction-data-interaction">Category 2: Interaction Data (<code>interaction</code>)</a></h5>
<p>Information about the user’s direct engagement with Firefox. Examples include how many tabs,
add-ons, or windows a user has open; uses of specific Firefox features; session length,
scrolls and clicks; and the status of discrete user preferences.
It also includes information about the user's in-product journeys and product choices helpful to understand engagement (attitudes).
For example, selections of add-ons or tiles to determine potential interest categories etc.</p>
<h5 id="category-3-stored-content--communications-stored_content"><a class="header" href="#category-3-stored-content--communications-stored_content">Category 3: Stored Content &amp; Communications (<code>stored_content</code>)</a></h5>
<p><em>(formerly Web activity data, <code>web_activity</code>)</em></p>
<p>Information about what people store, sync, communicate or connect to where the information is generally considered
to be more sensitive and personal in nature.
Examples include users' saved URLs or URL history, specific web browsing history,
general information about their web browsing history (such as TLDs or categories of webpages visited over time)
and potentially certain types of interaction data about specific web pages or stories visited
(such as highlighted portions of a story).
It also includes information such as content saved by users to an individual account like saved URLs,
tags, notes, passwords and files as well as communications that users have with one another through a Mozilla service.</p>
<h5 id="category-4-highly-sensitive-data-or-clearly-identifiable-personal-data-highly_sensitive"><a class="header" href="#category-4-highly-sensitive-data-or-clearly-identifiable-personal-data-highly_sensitive">Category 4: Highly sensitive data or clearly identifiable personal data (<code>highly_sensitive</code>)</a></h5>
<p>Information that directly identifies a person, or if combined with other data could identify a person.
This data may be embedded within specific website content, such as memory contents, dumps, captures of screen data, or DOM data.
Examples include account registration data like name, password, and email address associated with an account,
payment data in connection with subscriptions or donations, contact information such as phone numbers or mailing addresses,
email addresses associated with surveys, promotions and customer support contacts.
It also includes any data from different categories that, when combined, can identify a person, device, household or account.
For example Category 1 log data combined with Category 3 saved URLs.
Additional examples are: voice audio commands (including a voice audio file),
speech-to-text or text-to-speech (including transcripts), biometric data, demographic information,
and precise location data associated with a persistent identifier, individual or small population cohorts.
This is location inferred or determined from mechanisms other than IP such as wi-fi access points, Bluetooth beacons,
cell phone towers or provided directly to us, such as in a survey or a profile.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/mozilla/glean/edit/main/docs/user/reference/yaml/metrics.md">Edit this page on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../reference/yaml/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../reference/yaml/pings.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../reference/yaml/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../reference/yaml/pings.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../../shared/tabs.js"></script>
        <script src="../../../shared/mermaid.min.js"></script>
        <script src="../../../shared/mermaid-init.js"></script>
        <script src="../../chart.min.js"></script>
        <script src="../../chart-distributions.js"></script>
        <script src="../../chart-distributions-ui.js"></script>


    </div>
    </body>
</html>
